<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorteio Amigo Secreto</title>
</head>
<body>

    <h1>Sorteio Amigo Secreto</h1>

    <label for="nomes">Adicione os nomes dos participantes (separados por vírgula):</label>
    <input type="text" id="nomes" placeholder="Digite os nomes aqui">
    <button onclick="adicionarParticipantes()">Adicionar Participantes</button>

    <h2>Participantes:</h2>
    <ul id="listaParticipantes"></ul>

    <button onclick="realizarSorteio()">Realizar Sorteio</button>

    <h2>Resultado do Sorteio:</h2>
    <div id="resultado"></div>

    <script>
        let participantes = [];

        function adicionarParticipantes() {
            const nomesInput = document.getElementById('nomes');
            const listaParticipantes = document.getElementById('listaParticipantes');

            const nomes = nomesInput.value.split(',').map(nome => nome.trim());

            if (nomes.length === 0) {
                alert("Digite pelo menos um nome.");
                return;
            }

            // Adicionar participantes à lista
            participantes = nomes;
            listaParticipantes.innerHTML = nomes.map(nome => `<li>${nome}</li>`).join('');
            nomesInput.value = ''; // Limpar o campo de entrada
        }

        function realizarSorteio() {
            const resultadoDiv = document.getElementById('resultado');

            if (participantes.length < 2) {
                alert("Adicione pelo menos dois participantes.");
                return;
            }

            const sorteio = amigoSecreto(participantes);

            let resultadoHTML = '<ul>';
            for (const participante in sorteio) {
                resultadoHTML += `<li>${participante} sorteou ${sorteio[participante]}</li>`;
            }
            resultadoHTML += '</ul>';
            resultadoDiv.innerHTML = resultadoHTML;
        }

        function amigoSecreto(participantes) {
            let participantesRestantes = participantes.slice();
            let sorteio = {};

            function sortearParticipante(participanteAtual) {
                let participantesDisponiveis = participantesRestantes.filter(p => p !== participanteAtual);

                if (participantesDisponiveis.length === 0) {
                    participantesRestantes = participantes.slice();
                    return sortearParticipante(participanteAtual);
                }

                let participanteSorteado = participantesDisponiveis[Math.floor(Math.random() * participantesDisponiveis.length)];
                participantesRestantes = participantesRestantes.filter(p => p !== participanteSorteado);

                return participanteSorteado;
            }

            participantes.forEach(participante => {
                sorteio[participante] = sortearParticipante(participante);
            });

            return sorteio;
        }
    </script>

</body>
</html>
